{% extends "layout.html" %}
{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="container-fluid" style=" min-height: 100vh !important;">
    <div class="row">
        <nav class="site-header container d-flex flex-column col-md-2 min-vh-100">
            
            <a class="py-2 d-none d-md-inline-block nav-link" href="{{url_for('dashboard')}}">Dashboard</a>
            <a class="py-2 d-none d-md-inline-block nav-link" href="#">Orders</a>
            <a class="py-2 d-none d-md-inline-block nav-link" href="#">Products</a>
            {% if current_user.role.value == "Site Manager" %}
            <a class="py-2 d-none d-md-inline-block nav-link" href="#">User</a>

            {% endif %}
        </nav>
        
        <div class="col-md-10">
            <div id="main-content">
                <div class="row">
                    <div class="col-md-4 m-md-4">
                        <a href="{{url_for("addProduct")}}" class="btn btn-secondary me-1"> Add product</a>
                        {% if current_user.role.value == "Site Manager" %}
                        <a href="{{url_for("addUser")}}" class="btn btn-secondary "> Add User</a>
                        {% endif %}
                    </div>
                
                    
                </div>
                

                <div id="product-container">
                  {% include "_messages.html" %}
                    <div class="row">
                        <div class="col-md-4">
                            <h5>
                                Your Products
                            </h5>
                        </div>
                    </div>
                    {% if products %}
                    
                    
                    <div class="row py-5">
                      {% for product in products %}
                      
                      
                      <div class="col-md-3 pb-md-3">
                        <a href=" {{url_for("singlePage", id=product.id)}} " class="card-link">
                            <div class="card" style="width: 18rem;">
                                <img class="card-img-top" src="https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone-12-family-select-2021?wid=280&hei=250&fmt=jpeg&qlt=90&.v=1617135051000" alt="image here" height="280px" width="250px" style="background-color: gray;">
                                <div class="card-body">
                                    <h5 class="card-title"> {{product.title}} </h5>
                                    <p class="card-text"> {{product.brand.name}} </p>
                                    <h4 class="card-title">$ {{product.price}} </h4>
                                    
                                </div>
                                <div class="card-footer">
                                  <div class="container">
                                    <div class="row">
                                      <div class="col-md-4">
                                        <a href="{{url_for("edit_product",id=product.id)}}" class="btn btn-primary">Edit</a>
                                      </div>
                                      <div class="col-md-4">
                                        <a href="{{url_for("deleteProduct", id=product.id)}}" class="btn btn-danger">Delete</a>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        </a>
                    </div>
                        {% endfor %}
                        
                    </div>
                    {% else %}
                    <div class="conatiner">
                      <h5 class="text-center">
                        you have no Products create one!
                      </h5>
                    </div>
                    {% endif %}
                </div>
                <div id="order-container">
                  <h4>Orders</h4>
                  <div class="conatiner">
                    <h5 class="text-center">
                      you have no orders!
                    </h5>
                  </div>
                  <!-- <div class="table-responsive">
                      <table class="table table-striped table-sm">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>1,001</td>
                            <td>random</td>
                            <td>data</td>
                            <td>placeholder</td>
                            <td>text</td>
                          </tr>
                          <tr>
                            <td>1,002</td>
                            <td>placeholder</td>
                            <td>irrelevant</td>
                            <td>visual</td>
                            <td>layout</td>
                          </tr>
                          <tr>
                            <td>1,003</td>
                            <td>data</td>
                            <td>rich</td>
                            <td>dashboard</td>
                            <td>tabular</td>
                          </tr>
                          <tr>
                            <td>1,003</td>
                            <td>information</td>
                            <td>placeholder</td>
                            <td>illustrative</td>
                            <td>data</td>
                          </tr>
                          <tr>
                            <td>1,004</td>
                            <td>text</td>
                            <td>random</td>
                            <td>layout</td>
                            <td>dashboard</td>
                          </tr>
                          <tr>
                            <td>1,005</td>
                            <td>dashboard</td>
                            <td>irrelevant</td>
                            <td>text</td>
                            <td>placeholder</td>
                          </tr>
                          <tr>
                            <td>1,006</td>
                            <td>dashboard</td>
                            <td>illustrative</td>
                            <td>rich</td>
                            <td>data</td>
                          </tr>
                          <tr>
                            <td>1,007</td>
                            <td>placeholder</td>
                            <td>tabular</td>
                            <td>information</td>
                            <td>irrelevant</td>
                          </tr>
                          <tr>
                            <td>1,008</td>
                            <td>random</td>
                            <td>data</td>
                            <td>placeholder</td>
                            <td>text</td>
                          </tr>
                          <tr>
                            <td>1,009</td>
                            <td>placeholder</td>
                            <td>irrelevant</td>
                            <td>visual</td>
                            <td>layout</td>
                          </tr>
                          <tr>
                            <td>1,010</td>
                            <td>data</td>
                            <td>rich</td>
                            <td>dashboard</td>
                            <td>tabular</td>
                          </tr>
                          <tr>
                            <td>1,011</td>
                            <td>information</td>
                            <td>placeholder</td>
                            <td>illustrative</td>
                            <td>data</td>
                          </tr>
                          <tr>
                            <td>1,012</td>
                            <td>text</td>
                            <td>placeholder</td>
                            <td>layout</td>
                            <td>dashboard</td>
                          </tr>
                          <tr>
                            <td>1,013</td>
                            <td>dashboard</td>
                            <td>irrelevant</td>
                            <td>text</td>
                            <td>visual</td>
                          </tr>
                          <tr>
                            <td>1,014</td>
                            <td>dashboard</td>
                            <td>illustrative</td>
                            <td>rich</td>
                            <td>data</td>
                          </tr>
                          <tr>
                            <td>1,015</td>
                            <td>random</td>
                            <td>tabular</td>
                            <td>information</td>
                            <td>text</td>
                          </tr>
                        </tbody>
                      </table>
                    </div> -->
              </div>
              <div id="users">
                {% if current_user.role.value == "Site Manager" %}
                <h4>Users</h4>
                <div class="table-responsive">
                      <table class="table table-striped table-sm">
                        <thead>
                          <tr>
                            <th scope="col">id</th>
                            <th scope="col">User</th>
                            <th scope="col">Email</th>
                            <th scope="col">Role</th>
                            <th scope="col">actions</th>
                          </tr>
                        </thead>
                        
                        <tbody>
                          {% for user in users %}
                          <tr>
                            <td>{{user.id}} </td>
                            <td>{{user.username}}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.role.value}}</td>
                            <td>
                              <div>
                                <a href="{{url_for("adminEditUser", id=user.id)}}" class="btn btn-primary fa fa-edit"></a>
                                <a href="{{url_for("deleteUser", id=user.id)}}" class="btn btn-danger fa fa-trash-o"></a>
                              </div>
                            </td>
                          </tr>
                          {% endfor %}
                          
                        </tbody>
                      </table>
              </div>
              
            {% endif %}
              </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}